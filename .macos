#!/usr/local/bin/zsh

# source $(dirname "$0")/install 

###############################################################################
# Security & Privacy                                                          #
###############################################################################

# Enable the Application Layer Firewall and start it
sudo defaults write /Library/Preferences/com.apple.alf globalstate -int 1
sudo launchctl load /System/Library/LaunchDaemons/com.apple.alf.agent.plist 2>/dev/null
sudo launchctl load /System/Library/LaunchAgents/com.apple.alf.useragent.plist 2>/dev/null

# Enable logging
sudo /usr/libexec/ApplicationFirewall/socketfilterfw --setloggingmode on

# Enable Stealth Mode
# Your Mac will not respond to ICMP ping requests or connection attempts from closed TCP and UDP networks.
sudo /usr/libexec/ApplicationFirewall/socketfilterfw --setstealthmode on

# Disable SSH Daemon
sudo systemsetup -f -setremotelogin off

# Disable Apache HTTPD auto-start
sudo launchctl unload -w /System/Library/LaunchDaemons/org.apache.httpd.plist 2>/dev/null

# Reset the firewall to finalize the changes
sudo pkill -HUP socketfilterfw

# Enable Gatekeeper
sudo spctl --master-enable
sudo spctl --enable --label "Developer ID"

# Disable automatic software whitelisting
sudo /usr/libexec/ApplicationFirewall/socketfilterfw --setallowsigned off
sudo /usr/libexec/ApplicationFirewall/socketfilterfw --setallowsignedapp off

# Disable Captive Portal Assistant and force login through browser on untrusted networks
sudo defaults write /Library/Preferences/SystemConfiguration/com.apple.captive.control Active -bool false

# Disable printer sharing
cupsctl --no-share-printers

# TODO:
# 2022-03-29 00:37:26.887 defaults[779:6282]
# The domain/default pair of (/Library/Preferences/com.apple.loginwindow, LoginwindowText) does not exist

# Set a lost & found message on the login window
[ -n "$PHONENUMBER" ] && sudo defaults write /Library/Preferences/com.apple.loginwindow LoginwindowText "Deze computer gevonden? Bel $PHONENUMBER. Bijvoorbaat dank!"

# TODO:
# https://paretosecurity.com/auditor/checks

###############################################################################
# User metadata                                                               #
###############################################################################

# TODO: https://github.com/alichtman/stronghold/blob/master/stronghold.py#L171

###############################################################################
# General UI/UX                                                               #
###############################################################################

# Set computer name (as done via System Preferences → Sharing)
if [ -n "$PCNAME" ]; then
  sudo scutil --set ComputerName "$PCNAME"
  sudo scutil --set HostName "$PCNAME"
  sudo scutil --set LocalHostName "$PCNAME"
  sudo defaults write /Library/Preferences/SystemConfiguration/com.apple.smb.server NetBIOSName -string "$PCNAME"
fi

# Disable the sound effects on boot
sudo nvram SystemAudioVolume=" "

# Play user interface sound effects
defaults write NSGlobalDomain com.apple.sound.uiaudio.enabled -bool true

# Play feedback when volume is changed
defaults write NSGlobalDomain com.apple.sound.beep.feedback -bool true

# Set highlight color to blue
defaults write NSGlobalDomain AppleHighlightColor -string "0.698039 0.843137 1.000000 Blue"

# Set sidebar icon size to large
defaults write NSGlobalDomain NSTableViewDefaultSizeMode -int 3

# Disallow wallpaper tinting in windows
defaults write NSGlobalDomain AppleReduceDesktopTinting -int 1

# Show scrollbars
defaults write NSGlobalDomain AppleShowScrollBars -string "Automatic"
# Possible values: `WhenScrolling`, `Automatic` and `Always`

# Click in the scrollbar to jump to the spot that's clicked
defaults write NSGlobalDomain AppleScrollerPagingBehavior -int 1

# Prefer tabs in fullscreen when opening documents
defaults write NSGlobalDomain AppleWindowTabbingMode -string "fullscreen"

# Don't ask to keep changes when closing documents
defaults write NSGlobalDomain NSCloseAlwaysConfirmsChanges -bool false

# Use dark mode
defaults write NSGlobalDomain AppleInterfaceStyle -string "Dark"

# Disable the over-the-top focus ring animation
defaults write NSGlobalDomain NSUseAnimatedFocusRing -bool false

# Adjust toolbar title rollover delay
defaults write NSGlobalDomain NSToolbarTitleViewRolloverDelay -float 0

# Increase window resize speed for Cocoa applications
defaults write NSGlobalDomain NSWindowResizeTime -float 0.001

# Expand save panel by default
defaults write NSGlobalDomain NSNavPanelExpandedStateForSaveMode -bool true
defaults write NSGlobalDomain NSNavPanelExpandedStateForSaveMode2 -bool true

# Expand print panel by default
defaults write NSGlobalDomain PMPrintingExpandedStateForPrint -bool true
defaults write NSGlobalDomain PMPrintingExpandedStateForPrint2 -bool true

# Save to disk (not to iCloud) by default
defaults write NSGlobalDomain NSDocumentSaveNewDocumentsToCloud -bool false

# Automatically quit printer app once the print jobs complete
defaults write com.apple.print.PrintingPrefs "Quit When Finished" -bool true

# Disable the “Are you sure you want to open this application?” dialog
defaults write com.apple.LaunchServices LSQuarantine -bool false

# Remove duplicates in the “Open With” menu (also see `lscleanup` alias)
/System/Library/Frameworks/CoreServices.framework/Frameworks/LaunchServices.framework/Support/lsregister -kill -r -domain local -domain system -domain user

# Display ASCII control characters using caret notation in standard text views
# Try e.g. `cd /tmp; unidecode "\x{0000}" > cc.txt; open -e cc.txt`
defaults write NSGlobalDomain NSTextShowsControlCharacters -bool true

# Disable Resume system-wide
defaults write com.apple.systempreferences NSQuitAlwaysKeepsWindows -bool false

# Disable automatic termination of inactive apps
defaults write NSGlobalDomain NSDisableAutomaticTermination -bool true

# Disable the crash reporter
defaults write com.apple.CrashReporter DialogType -string "none"

# Set Help Viewer windows to non-floating mode
defaults write com.apple.helpviewer DevMode -bool true

# Reveal IP address, hostname, OS version, etc. when clicking the clock
# in the login window
sudo defaults write /Library/Preferences/com.apple.loginwindow AdminHostInfo HostName

# Disable Notification Center and remove the menu bar icon
launchctl unload -w /System/Library/LaunchAgents/com.apple.notificationcenterui.plist 2> /dev/null

# Set notification banner time to X seconds
defaults write com.apple.notificationcenterui bannerTime -int 3

# Disable automatic capitalization as it’s annoying when typing code
defaults write NSGlobalDomain NSAutomaticCapitalizationEnabled -bool false

# Disable smart dashes as they’re annoying when typing code
defaults write NSGlobalDomain NSAutomaticDashSubstitutionEnabled -bool false

# Disable automatic period substitution as it’s annoying when typing code
defaults write NSGlobalDomain NSAutomaticPeriodSubstitutionEnabled -bool false

# Disable smart quotes as they’re annoying when typing code
defaults write NSGlobalDomain NSAutomaticQuoteSubstitutionEnabled -bool false

# Disable auto-correct
defaults write NSGlobalDomain NSAutomaticSpellingCorrectionEnabled -bool false

# Disable Touch Bar typing suggestions
defaults write NSGlobalDomain NSAutomaticTextCompletionEnabled -bool false

###############################################################################
# Accessibility                                                               #
###############################################################################

# VoiceOver Off
defaults write com.apple.Accessibility VoiceOverTouchEnabled -bool false
defaults write com.apple.Accessibility AccessibilityEnabled -bool false
defaults write com.apple.Accessibility ApplicationAccessibilityEnabled -bool false

# Zoom
defaults write com.apple.AppleMultitouchTrackpad HIDScrollZoomModifierMask -string "262144"
defaults write com.apple.driver.AppleBluetoothMultitouch.trackpad HIDScrollZoomModifierMask -string "262144"

# Display
defaults write com.apple.Accessibility EnhancedBackgroundContrastEnabled -bool true
defaults write com.apple.Accessibility DarkenSystemColors -bool true

# Pointer
defaults write NSGlobalDomain CGDisableCursorLocationMagnification -bool false

# Pointer Control
defaults write NSGlobalDomain com.apple.springing.enabled -bool true

# Ignore trackpad when mouse connected
defaults write com.apple.driver.AppleBluetoothMultitouch.trackpad USBMouseStopsTrackpad -bool true

# Trackpad Options
defaults write com.apple.AppleMultitouchTrackpad TrackpadHorizScroll -bool true
defaults write com.apple.AppleMultitouchTrackpad TrackpadScroll -bool true
defaults write com.apple.driver.AppleBluetoothMultitouch.trackpad TrackpadHorizScroll -bool true
defaults write com.apple.driver.AppleBluetoothMultitouch.trackpad TrackpadScroll -bool true
# with inertia
defaults write com.apple.driver.AppleBluetoothMultitouch.trackpad TrackpadMomentumScroll -bool true
defaults write com.apple.AppleMultitouchTrackpad TrackpadMomentumScroll -bool true

# Scrolling speed
defaults write NSGlobalDomain com.apple.trackpad.scrolling -string "0.3125"
defaults write NSGlobalDomain com.apple.scrollwheel.scaling -string "0.3125"

###############################################################################
# Trackpad, mouse, keyboard, Bluetooth accessories, and input                 #
###############################################################################

# Trackpad: enable tap to click for this user and for the login screen
defaults write com.apple.driver.AppleBluetoothMultitouch.trackpad Clicking -bool true
defaults -currentHost write NSGlobalDomain com.apple.mouse.tapBehavior -int 1
defaults write NSGlobalDomain com.apple.mouse.tapBehavior -int 1

# Trackpad: map bottom right corner to right-click
defaults write com.apple.driver.AppleBluetoothMultitouch.trackpad TrackpadCornerSecondaryClick -int 2
defaults write com.apple.driver.AppleBluetoothMultitouch.trackpad TrackpadRightClick -bool true
defaults -currentHost write NSGlobalDomain com.apple.trackpad.trackpadCornerClickBehavior -int 1
defaults -currentHost write NSGlobalDomain com.apple.trackpad.enableSecondaryClick -bool true

# Disable “natural” (Lion-style) scrolling
defaults write NSGlobalDomain com.apple.swipescrolldirection -bool true

# Increase sound quality for Bluetooth headphones/headsets
defaults write com.apple.BluetoothAudioAgent "Apple Bitpool Min (editable)" -int 40

# Enable full keyboard access for all controls
# (e.g. enable Tab in modal dialogs)
defaults write NSGlobalDomain AppleKeyboardUIMode -int 3

# Disable press-and-hold for keys in favor of key repeat
defaults write NSGlobalDomain ApplePressAndHoldEnabled -bool false

# Set a blazingly fast keyboard repeat rate
defaults write NSGlobalDomain KeyRepeat -int 2
defaults write NSGlobalDomain InitialKeyRepeat -int 25

# Set language and text formats
# Note: if you’re in the US, replace `EUR` with `USD`, `Centimeters` with
# `Inches`, `en_GB` with `en_US`, and `true` with `false`.
defaults write NSGlobalDomain AppleLanguages -array "en" "nl"
defaults write NSGlobalDomain AppleLocale -string "en_GB@currency=EUR"
defaults write NSGlobalDomain AppleMeasurementUnits -string "Centimeters"
defaults write NSGlobalDomain AppleMetricUnits -bool true

# Live Text
defaults write NSGlobalDomain AppleLiveTextEnabled -bool true

# Show language menu in the top right corner of the boot screen
sudo defaults write /Library/Preferences/com.apple.loginwindow showInputMenu -bool true

###############################################################################
# Screen                                                                      #
###############################################################################

# Require password immediately after sleep or screen saver begins
# defaults write com.apple.screensaver askForPassword -int 1
# defaults write com.apple.screensaver askForPasswordDelay -int 0

# Save screenshots to the downloads folder
defaults write com.apple.screencapture location -string "${HOME}/Downloads"

# Save screenshots in PNG format (other options: BMP, GIF, JPG, PDF, TIFF)
defaults write com.apple.screencapture type -string "png"

# Disable shadow in screenshots
defaults write com.apple.screencapture disable-shadow -bool true

# Enable subpixel font rendering on non-Apple LCDs
# Reference: https://github.com/kevinSuttle/macOS-Defaults/issues/17#issuecomment-266633501
defaults write NSGlobalDomain AppleFontSmoothing -int 1

# Enable HiDPI display modes (requires restart)
sudo defaults write /Library/Preferences/com.apple.windowserver DisplayResolutionEnabled -bool true

###############################################################################
# Finder                                                                      #
###############################################################################

# Finder: disable window animations and Get Info animations
defaults write com.apple.finder DisableAllAnimations -bool true

# Set Desktop as the default location for new Finder windows
# For other paths, use `PfLo` and `file:///full/path/here/`
# defaults write com.apple.finder NewWindowTarget -string "PfDe"
defaults write com.apple.finder NewWindowTarget PfHm
defaults write com.apple.finder NewWindowTargetPath "file:///Users/$USER/"

# Don't show icons for hard drives, servers, and removable media on the desktop
defaults write com.apple.finder ShowExternalHardDrivesOnDesktop -bool false
defaults write com.apple.finder ShowHardDrivesOnDesktop -bool false
defaults write com.apple.finder ShowMountedServersOnDesktop -bool false
defaults write com.apple.finder ShowRemovableMediaOnDesktop -bool false

# Finder: show hidden files by default
defaults write com.apple.finder AppleShowAllFiles -bool true

# Finder: show all filename extensions
defaults write NSGlobalDomain AppleShowAllExtensions -bool true

# Finder: show status bar
defaults write com.apple.finder ShowStatusBar -bool true

# Finder: show path bar
defaults write com.apple.finder ShowPathbar -bool true

# Display full POSIX path as Finder window title
defaults write com.apple.finder _FXShowPosixPathInTitle -bool true

# Keep folders on top when sorting by name
defaults write com.apple.finder _FXSortFoldersFirst -bool true

# When performing a search, search the current folder by default
defaults write com.apple.finder FXDefaultSearchScope -string "SCcf"

# Disable the warning when changing a file extension
defaults write com.apple.finder FXEnableExtensionChangeWarning -bool false

# Enable spring loading for directories
defaults write NSGlobalDomain com.apple.springing.enabled -bool true

# Remove the spring loading delay for directories
defaults write NSGlobalDomain com.apple.springing.delay -float 0

# Avoid creating .DS_Store files on network or USB volumes
defaults write com.apple.desktopservices DSDontWriteNetworkStores -bool true
defaults write com.apple.desktopservices DSDontWriteUSBStores -bool true

# Disable disk image verification
defaults write com.apple.frameworks.diskimages skip-verify -bool true
defaults write com.apple.frameworks.diskimages skip-verify-locked -bool true
defaults write com.apple.frameworks.diskimages skip-verify-remote -bool true

# Enable snap-to-grid for icons on the desktop and in other icon views
/usr/libexec/PlistBuddy -c "Set :DesktopViewSettings:IconViewSettings:arrangeBy grid" ~/Library/Preferences/com.apple.finder.plist
/usr/libexec/PlistBuddy -c "Set :FK_StandardViewSettings:IconViewSettings:arrangeBy grid" ~/Library/Preferences/com.apple.finder.plist
/usr/libexec/PlistBuddy -c "Set :StandardViewSettings:IconViewSettings:arrangeBy grid" ~/Library/Preferences/com.apple.finder.plist

# Increase grid spacing for icons on the desktop and in other icon views
/usr/libexec/PlistBuddy -c "Set :DesktopViewSettings:IconViewSettings:gridSpacing 100" ~/Library/Preferences/com.apple.finder.plist
/usr/libexec/PlistBuddy -c "Set :FK_StandardViewSettings:IconViewSettings:gridSpacing 100" ~/Library/Preferences/com.apple.finder.plist
/usr/libexec/PlistBuddy -c "Set :StandardViewSettings:IconViewSettings:gridSpacing 100" ~/Library/Preferences/com.apple.finder.plist

# Increase the size of icons on the desktop and in other icon views
/usr/libexec/PlistBuddy -c "Set :DesktopViewSettings:IconViewSettings:iconSize 80" ~/Library/Preferences/com.apple.finder.plist
/usr/libexec/PlistBuddy -c "Set :FK_StandardViewSettings:IconViewSettings:iconSize 80" ~/Library/Preferences/com.apple.finder.plist
/usr/libexec/PlistBuddy -c "Set :StandardViewSettings:IconViewSettings:iconSize 80" ~/Library/Preferences/com.apple.finder.plist

# Use column view in all Finder windows by default
# Four-letter codes for the other view modes: `icnv`, `clmv`, `glyv`, `Flwv`, `Nlsv`
defaults write com.apple.finder FXPreferredViewStyle -string "clmv"

# Disable the warning before emptying the Trash
defaults write com.apple.finder WarnOnEmptyTrash -bool false

# Remove items from the Trash after 30 days
defaults write com.apple.finder FXRemoveOldTrashItems -bool false

# Enable AirDrop over Ethernet and on unsupported Macs running Lion
defaults write com.apple.NetworkBrowser BrowseAllInterfaces -bool false

# Show the ~/Library folder
chflags nohidden ~/Library && [[ $(xattr "/Users/$USER/Library") = *com.apple.FinderInfo* ]] && xattr -d com.apple.FinderInfo "/Users/$USER/Library"

# Show the /Volumes folder
sudo chflags nohidden /Volumes

# Show these items on the desktop
defaults write com.apple.finder ShowHardDrivesOnDesktop -bool false
defaults write com.apple.finder ShowExternalHardDrivesOnDesktop -bool false
defaults write com.apple.finder ShowRemovableMediaOnDesktop -bool false
defaults write com.apple.finder ShowMountedServersOnDesktop -bool false

# Open folders in tabs instead of new windows
defaults write com.apple.finder FinderSpawnTab -bool true

# Toolbar configuration
defaults write com.apple.finder "NSToolbar Configuration Browser" '{"TB Default Item Identifiers"=("com.apple.finder.BACK","com.apple.finder.SWCH",NSToolbarSpaceItem,"com.apple.finder.ARNG","com.apple.finder.SHAR","com.apple.finder.LABL","com.apple.finder.ACTN",NSToolbarSpaceItem,"com.apple.finder.SRCH",);"TB Display Mode"=2;"TB Icon Size Mode"=1;"TB Is Shown"=1;"TB Item Identifiers"=("com.apple.finder.BACK","com.apple.finder.PATH","com.apple.finder.SWCH","com.apple.finder.ARNG",NSToolbarSpaceItem,"com.apple.finder.NFLD","com.apple.finder.TRSH","com.apple.finder.ACTN",NSToolbarSpaceItem,"com.apple.finder.SRCH",);"TB Size Mode"=1;}'

# Expand the following File Info panes:
# “General”, “Open with”, and “Sharing & Permissions”
defaults write com.apple.finder FXInfoPanesExpanded -dict \
	General -bool true \
	OpenWith -bool true \
	Privileges -bool true

###############################################################################
# Dock, Dashboard, and hot corners                                            #
###############################################################################

# Enable highlight hover effect for the grid view of a stack (Dock)
defaults write com.apple.dock mouse-over-hilite-stack -bool true

# Set the icon size of Dock items to 36 pixels
defaults write com.apple.dock tilesize -int 36

# Magnification
defaults write com.apple.dock magnification -bool false

# Set dock orientation to left
defaults write com.apple.dock orientation left

# Change minimize/maximize window effect
defaults write com.apple.dock mineffect -string "scale"

# Double-click a window's title bar to zoom
defaults write NSGlobalDomain AppleActionOnDoubleClick -string "Maximize"

# Minimize windows into their application’s icon
defaults write com.apple.dock minimize-to-application -bool true

# Enable spring loading for all Dock items
defaults write com.apple.dock enable-spring-load-actions-on-all-items -bool true

# Show indicator lights for open applications in the Dock
defaults write com.apple.dock show-process-indicators -bool true

# Wipe all (default) app icons from the Dock
# This is only really useful when setting up a new Mac, or if you don’t use
# the Dock to launch apps.
defaults write com.apple.dock persistent-apps -array

# Show only open applications in the Dock
defaults write com.apple.dock static-only -bool true

# Don’t animate opening applications from the Dock
defaults write com.apple.dock launchanim -bool false

# Speed up Mission Control animations
defaults write com.apple.dock expose-animation-duration -float 0.1

# Don’t group windows by application in Mission Control
# (i.e. use the old Exposé behavior instead)
defaults write com.apple.dock expose-group-by-app -bool false

# Disable Dashboard
defaults write com.apple.dashboard mcx-disabled -bool true

# Don’t show Dashboard as a Space
defaults write com.apple.dock dashboard-in-overlay -bool true

# Don’t automatically rearrange Spaces based on most recent use
defaults write com.apple.dock mru-spaces -bool false

# When switching to an application, switch to the Space with an open window for the application
defaults write NSGlobalDomain AppleSpacesSwitchOnActivate -bool true

# Don't group windows by application
defaults write com.apple.dock expose-group-apps -bool false

# Displays have separate Spaces
defaults write com.apple.spaces spans-displays -bool false

# Remove the auto-hiding Dock delay
defaults write com.apple.dock autohide-delay -float 0

# Remove the animation when hiding/showing the Dock
defaults write com.apple.dock autohide-time-modifier -float 0

# Automatically hide and show the Dock
defaults write com.apple.dock autohide -bool true

# Make Dock icons of hidden applications translucent
defaults write com.apple.dock showhidden -bool true

# Don’t show recent applications in Dock
defaults write com.apple.dock show-recents -bool false

# Automatically hide and show the menu bar in full screen
defaults write NSGlobalDomain AppleMenuBarVisibleInFullscreen -bool false

# Automatically hide and show the menu bar on desktop
defaults write NSGlobalDomain "_HIHideMenuBar" -bool true

# Reset Launchpad, but keep the desktop wallpaper intact
find "${HOME}/Library/Application Support/Dock" -name "*-*.db" -maxdepth 1 -delete

# Add a spacer to the left side of the Dock (where the applications are)
defaults write com.apple.dock persistent-apps -array-add '{tile-data={}; tile-type="spacer-tile";}'
# Add a spacer to the right side of the Dock (where the Trash is)
defaults write com.apple.dock persistent-others -array-add '{tile-data={}; tile-type="spacer-tile";}'

# Hot corners
# Possible values:
#  1: no-op
#  2: Mission Control
#  3: Show application windows
#  4: Desktop
#  5: Start screen saver
#  6: Disable screen saver
#  7: Dashboard
# 10: Put display to sleep
# 11: Launchpad
# 12: Notification Center
# 13: Lock Screen
# Top left screen corner
defaults write com.apple.dock wvous-tl-corner -int 1
# defaults write com.apple.dock wvous-tl-modifier -int 0
# Top right screen corner
defaults write com.apple.dock wvous-tr-corner -int 1
# defaults write com.apple.dock wvous-tr-modifier -int 0
# Bottom left screen corner
defaults write com.apple.dock wvous-bl-corner -int 1
# defaults write com.apple.dock wvous-bl-modifier -int 0
# Bottom right screen corner
defaults write com.apple.dock wvous-br-corner -int 1
# defaults write com.apple.dock wvous-bl-modifier -int 0

# Mission Control Keyboard and Mouse Shortcuts (symbolichotkeys)
defaults write com.apple.symbolichotkeys AppleSymbolicHotKeys '{10={enabled=1;value={parameters=(65535,96,8650752,);type=standard;};};11={enabled=1;value={parameters=(65535,97,8650752,);type=standard;};};118={enabled=0;value={parameters=(65535,18,262144,);type=standard;};};119={enabled=0;value={parameters=(65535,19,262144,);type=standard;};};12={enabled=1;value={parameters=(65535,122,8650752,);type=standard;};};13={enabled=1;value={parameters=(65535,98,8650752,);type=standard;};};15={enabled=1;value={parameters=(56,28,1572864,);type=standard;};};160={enabled=0;value={parameters=(65535,65535,0,);type=standard;};};162={enabled=0;value={parameters=(65535,96,9961472,);type=standard;};};163={enabled=0;value={parameters=(65535,65535,0,);type=standard;};};164={enabled=1;value={parameters=(262144,4294705151,);type=modifier;};};17={enabled=1;value={parameters=(61,24,1572864,);type=standard;};};175={enabled=0;value={parameters=(65535,65535,0,);type=standard;};};179={enabled=1;value={parameters=(65535,65535,0,);type=standard;};};181={enabled=1;value={parameters=(54,22,1179648,);type=standard;};};182={enabled=1;value={parameters=(54,22,1441792,);type=standard;};};184={enabled=1;value={parameters=(53,23,1179648,);type=standard;};};19={enabled=1;value={parameters=(45,27,1572864,);type=standard;};};190={enabled=0;value={parameters=(113,12,8388608,);type=standard;};};21={enabled=0;value={parameters=(56,28,1835008,);type=standard;};};23={enabled=1;value={parameters=(92,42,1572864,);type=standard;};};25={enabled=0;value={parameters=(46,47,1835008,);type=standard;};};26={enabled=0;value={parameters=(44,43,1835008,);type=standard;};};27={enabled=1;value={parameters=(96,50,1048576,);type=standard;};};28={enabled=1;value={parameters=(51,20,1179648,);type=standard;};};29={enabled=1;value={parameters=(51,20,1441792,);type=standard;};};30={enabled=1;value={parameters=(52,21,1179648,);type=standard;};};31={enabled=1;value={parameters=(52,21,1441792,);type=standard;};};32={enabled=1;value={parameters=(65535,126,8650752,);type=standard;};};33={enabled=1;value={parameters=(65535,125,8650752,);type=standard;};};34={enabled=0;};35={enabled=1;value={parameters=(65535,125,8781824,);type=standard;};};36={enabled=0;};37={enabled=0;};44={enabled=0;};45={enabled=0;};46={enabled=0;};47={enabled=0;};48={enabled=0;};49={enabled=0;};52={enabled=0;value={parameters=(100,2,1572864,);type=standard;};};53={enabled=1;value={parameters=(65535,107,8388608,);type=standard;};};54={enabled=1;value={parameters=(65535,113,8388608,);type=standard;};};55={enabled=1;value={parameters=(65535,107,8912896,);type=standard;};};56={enabled=1;value={parameters=(65535,113,8912896,);type=standard;};};57={enabled=1;value={parameters=(65535,100,8650752,);type=standard;};};59={enabled=0;value={parameters=(65535,96,9437184,);type=standard;};};60={enabled=0;value={parameters=(32,49,262144,);type=standard;};};61={enabled=0;value={parameters=(32,49,786432,);type=standard;};};64={enabled=0;value={parameters=(65535,49,1048576,);type=standard;};};65={enabled=0;value={parameters=(65535,49,1572864,);type=standard;};};7={enabled=1;value={parameters=(65535,120,8650752,);type=standard;};};79={enabled=1;value={parameters=(65535,123,8650752,);type=standard;};};8={enabled=1;value={parameters=(65535,99,8650752,);type=standard;};};80={enabled=1;value={parameters=(65535,123,8781824,);type=standard;};};81={enabled=1;value={parameters=(65535,124,8650752,);type=standard;};};82={enabled=1;value={parameters=(65535,124,8781824,);type=standard;};};9={enabled=1;value={parameters=(65535,118,8650752,);type=standard;};};98={enabled=1;value={parameters=(47,44,1179648,);type=standard;};};}'

# Don't show Wi-Fi in menu bar
defaults write com.apple.controlcenter "NSStatusItem Visible WiFi" -bool false

# Don't show Bluetooth in menu bar
defaults write com.apple.controlcenter "NSStatusItem Visible Bluetooth" -bool false

# Don't show AirDrop in menu bar
defaults write com.apple.controlcenter "NSStatusItem Visible AirDrop" -bool false

# Don't show Keyboard Brightness in menu bar
defaults write com.apple.controlcenter "NSStatusItem Visible KeyboardBrightness" -bool false

# Don't show Screen Mirroring in menu bar
defaults write "com.apple.airplay" '{showInMenuBarIfPresent=0;}'

# Don't show Now Playing in menu bar
defaults write com.apple.controlcenter "NSStatusItem Visible NowPlaying" -bool false

# Don't show Accessibility in menu bar
defaults write com.apple.controlcenter "NSStatusItem Visible AccessibilityShortcuts" -bool false

# Show battery in menu bar
defaults write com.apple.controlcenter "NSStatusItem Visible Battery" -bool true

# Don't show Fast User Switching in menu bar
defaults write com.apple.controlcenter "NSStatusItem Visible UserSwitcher" -bool false

# Don't show Time Machine in menu bar
defaults write com.apple.systemuiserver "NSStatusItem Visible com.apple.menuextra.TimeMachine" -bool false

# Don't show Spotlight in menu bar
defaults write com.apple.Spotlight "NSStatusItem Visible Item-0" -bool false

# Don't show Siri in menu bar
defaults write com.apple.Siri StatusMenuVisible -bool false

# Show clock in menu bar
defaults write com.apple.menuextra.clock ShowDayOfWeek -bool true
defaults write com.apple.menuextra.clock ShowDayOfMonth -bool true
defaults write com.apple.menuextra.clock DateFormat -string "EEE d MMM  HH:mm:ss"
defaults write com.apple.menuextra.clock IsAnalog -bool false
defaults write com.apple.menuextra.clock FlashDateSeparators -bool true

###############################################################################
# Safari & WebKit                                                             #
###############################################################################

# Privacy: don’t send search queries to Apple
defaults write com.apple.Safari UniversalSearchEnabled -bool false
defaults write com.apple.Safari SuppressSearchSuggestions -bool true

# Press Tab to highlight each item on a web page
defaults write com.apple.Safari WebKitTabToLinksPreferenceKey -bool true
defaults write com.apple.Safari com.apple.Safari.ContentPageGroupIdentifier.WebKit2TabsToLinks -bool true

# Show the full URL in the address bar (note: this still hides the scheme)
defaults write com.apple.Safari ShowFullURLInSmartSearchField -bool true

# Set Safari’s home page to `about:blank` for faster loading
defaults write com.apple.Safari HomePage -string "about:blank"

# Prevent Safari from opening ‘safe’ files automatically after downloading
defaults write com.apple.Safari AutoOpenSafeDownloads -bool false

# Allow hitting the Backspace key to go to the previous page in history
defaults write com.apple.Safari com.apple.Safari.ContentPageGroupIdentifier.WebKit2BackspaceKeyNavigationEnabled -bool true

# Hide Safari’s bookmarks bar by default
defaults write com.apple.Safari ShowFavoritesBar -bool false

# Hide Safari’s sidebar in Top Sites
defaults write com.apple.Safari ShowSidebarInTopSites -bool false

# Disable Safari’s thumbnail cache for History and Top Sites
defaults write com.apple.Safari DebugSnapshotsUpdatePolicy -int 2

# Enable Safari’s debug menu
defaults write com.apple.Safari IncludeInternalDebugMenu -bool true

# Make Safari’s search banners default to Contains instead of Starts With
defaults write com.apple.Safari FindOnPageMatchesWordStartsOnly -bool false

# Remove useless icons from Safari’s bookmarks bar
defaults write com.apple.Safari ProxiesInBookmarksBar "()"

# Enable the Develop menu and the Web Inspector in Safari
defaults write com.apple.Safari IncludeDevelopMenu -bool true
defaults write com.apple.Safari WebKitDeveloperExtrasEnabledPreferenceKey -bool true
defaults write com.apple.Safari com.apple.Safari.ContentPageGroupIdentifier.WebKit2DeveloperExtrasEnabled -bool true

# Add a context menu item for showing the Web Inspector in web views
defaults write NSGlobalDomain WebKitDeveloperExtras -bool true

# Enable continuous spellchecking
defaults write com.apple.Safari WebContinuousSpellCheckingEnabled -bool true

# Disable auto-correct
defaults write com.apple.Safari WebAutomaticSpellingCorrectionEnabled -bool false

# Disable AutoFill
defaults write com.apple.Safari AutoFillFromAddressBook -bool false
defaults write com.apple.Safari AutoFillPasswords -bool false
defaults write com.apple.Safari AutoFillCreditCardData -bool false
defaults write com.apple.Safari AutoFillMiscellaneousForms -bool false

# Warn about fraudulent websites
defaults write com.apple.Safari WarnAboutFraudulentWebsites -bool true

# Disable plug-ins
defaults write com.apple.Safari WebKitPluginsEnabled -bool false
defaults write com.apple.Safari com.apple.Safari.ContentPageGroupIdentifier.WebKit2PluginsEnabled -bool false

# Disable Java
defaults write com.apple.Safari WebKitJavaEnabled -bool false
defaults write com.apple.Safari com.apple.Safari.ContentPageGroupIdentifier.WebKit2JavaEnabled -bool false
defaults write com.apple.Safari com.apple.Safari.ContentPageGroupIdentifier.WebKit2JavaEnabledForLocalFiles -bool false

# Block pop-up windows
defaults write com.apple.Safari WebKitJavaScriptCanOpenWindowsAutomatically -bool false
defaults write com.apple.Safari com.apple.Safari.ContentPageGroupIdentifier.WebKit2JavaScriptCanOpenWindowsAutomatically -bool false

# Disable auto-playing video
defaults write com.apple.Safari WebKitMediaPlaybackAllowsInline -bool false
defaults write com.apple.SafariTechnologyPreview WebKitMediaPlaybackAllowsInline -bool false
defaults write com.apple.Safari com.apple.Safari.ContentPageGroupIdentifier.WebKit2AllowsInlineMediaPlayback -bool false
defaults write com.apple.SafariTechnologyPreview com.apple.Safari.ContentPageGroupIdentifier.WebKit2AllowsInlineMediaPlayback -bool false

# Enable “Do Not Track”
defaults write com.apple.Safari SendDoNotTrackHTTPHeader -bool true

# Update extensions automatically
defaults write com.apple.Safari InstallExtensionUpdatesAutomatically -bool true

###############################################################################
# Terminal					                                                          #
###############################################################################

# # Only use UTF-8 in Terminal.app
# defaults write com.apple.terminal StringEncodings -array 4

# Enable “focus follows mouse” for Terminal.app and all X11 apps
# i.e. hover over a window and start typing in it without clicking first
# defaults write com.apple.terminal FocusFollowsMouse -bool true
# defaults write org.x.X11 wm_ffm -bool true

# Enable Secure Keyboard Entry in Terminal.app
# See: https://security.stackexchange.com/a/47786/8918
defaults write com.apple.terminal SecureKeyboardEntry -bool true

# # Disable the annoying line marks
# defaults write com.apple.Terminal ShowLineMarks -int 0

###############################################################################
# Activity Monitor                                                            #
###############################################################################

# Show the main window when launching Activity Monitor
defaults write com.apple.ActivityMonitor OpenMainWindow -bool true

# Visualize CPU usage in the Activity Monitor Dock icon
defaults write com.apple.ActivityMonitor IconType -int 5

# Show all processes in Activity Monitor
defaults write com.apple.ActivityMonitor ShowCategory -int 0

# Sort Activity Monitor results by CPU usage
defaults write com.apple.ActivityMonitor SortColumn -string "CPUUsage"
defaults write com.apple.ActivityMonitor SortDirection -int 0

###############################################################################
# Disk Utility                                                                #
###############################################################################

# Enable the debug menu in Disk Utility
defaults write com.apple.DiskUtility DUDebugMenuEnabled -bool true
defaults write com.apple.DiskUtility advanced-image-options -bool true

###############################################################################
# Mac App Store                                                               #
###############################################################################

# Enable the WebKit Developer Tools in the Mac App Store
defaults write com.apple.appstore WebKitDeveloperExtras -bool true

# Enable Debug Menu in the Mac App Store
defaults write com.apple.appstore ShowDebugMenu -bool true

# Enable the automatic update check
defaults write com.apple.SoftwareUpdate AutomaticCheckEnabled -bool true

# Check for software updates daily, not just once per week
defaults write com.apple.SoftwareUpdate ScheduleFrequency -int 1

# Download newly available updates in background
defaults write com.apple.SoftwareUpdate AutomaticDownload -int 1

# Install System data files & security updates
defaults write com.apple.SoftwareUpdate CriticalUpdateInstall -int 1

# Turn on app auto-update
defaults write com.apple.commerce AutoUpdate -bool true

###############################################################################
# Google Chrome & Google Chrome Canary                                        #
###############################################################################

# Disable the all too sensitive backswipe on trackpads
defaults write com.google.Chrome AppleEnableSwipeNavigateWithScrolls -bool false
defaults write com.google.Chrome.canary AppleEnableSwipeNavigateWithScrolls -bool false

# Disable the all too sensitive backswipe on Magic Mouse
defaults write com.google.Chrome AppleEnableMouseSwipeNavigateWithScrolls -bool false
defaults write com.google.Chrome.canary AppleEnableMouseSwipeNavigateWithScrolls -bool false

# Expand the print dialog by default
defaults write com.google.Chrome PMPrintingExpandedStateForPrint2 -bool true
defaults write com.google.Chrome.canary PMPrintingExpandedStateForPrint2 -bool true

###############################################################################
# Transmission.app                                                            #
###############################################################################

# Auto resize window to fit all transfers
defaults write org.m0k.transmission AutoSize -bool true

# Show upload and download rates in Dock icon
defaults write org.m0k.transmission BadgeUploadRate -bool true
defaults write org.m0k.transmission BadgeDownloadRate -bool true

# Prompt user for:
# Removal of active transfers
defaults write org.m0k.transmission CheckRemove -bool true
# Only when downloading
defaults write org.m0k.transmission CheckRemoveDownloading -bool true
# Quit with active transfers
defaults write org.m0k.transmission CheckQuit -bool true
# Only when downloading
defaults write org.m0k.transmission CheckQuitDownloading -bool true

# Check daily for updates
defaults write org.m0k.transmission SUEnableAutomaticChecks -bool true

# Adding
# Default location, Same as torrent file
defaults write org.m0k.transmission DownloadLocationConstant -bool false
# Start when added
defaults write org.m0k.transmission AutoStartDownload -bool true
# Trash original torrent files
defaults write org.m0k.transmission DeleteOriginalTorrent -bool true
# Append .part to incomplete files
defaults write org.m0k.transmission RenamePartialFiles -bool true
# Don’t prompt for confirmation before downloading
defaults write org.m0k.transmission DownloadAsk -bool false
defaults write org.m0k.transmission MagnetOpenAsk -bool false

# Management Limits
# Stop seeding at ratio 0
defaults write org.m0k.transmission RatioCheck -bool true
defaults write org.m0k.transmission RatioLimit -bool false
# Stop seeding when inactive for 30 minutes
defaults write org.m0k.transmission IdleLimitCheck -bool true
defaults write org.m0k.transmission IdleLimitMinutes 30
# Remove from list when seeding complete
defaults write org.m0k.transmission RemoveWhenFinishSeeding -bool true

# Play sound when download and seeding completes
defaults write org.m0k.transmission PlayDownloadSound -bool true
defaults write org.m0k.transmission PlaySeedingSound -bool true

# Peers
# Global maximum connections
defaults write org.m0k.transmission PeersTotal 500
# For new transfers
defaults write org.m0k.transmission PeersTorrent 100
# Use PEX for public torrents
defaults write org.m0k.transmission PEXGlobal -bool true
# Use DHT for public torrents
defaults write org.m0k.transmission DHTGlobal -bool true

# Prefer encrypted peers
defaults write org.m0k.transmission EncryptionPrefer -bool true

# Blocklist
# Prevent peers in blocklist from connecting
defaults write org.m0k.transmission BlocklistNew -bool true
# Blocklist URL
defaults write org.m0k.transmission BlocklistURL -string "https://github.com/Naunter/BT_BlockLists/raw/master/bt_blocklists.gz"
# Update weekly
defaults write org.m0k.transmission BlocklistAutoUpdate -bool true

# Network
# Enable Micro Transport Protocol
defaults write org.m0k.transmission UTPGlobal -bool true
# Randomize port on launch
defaults write org.m0k.transmission RandomPort -bool true
# Automatically map port
defaults write org.m0k.transmission NatTraversal -bool true
# Prevent sleeping with active transfers
defaults write org.m0k.transmission SleepPrevent -bool true

# Enable remote access
defaults write org.m0k.transmission RPC -bool true
# Require authentication
defaults write org.m0k.transmission RPCAuthorize -bool true
# Port
defaults write org.m0k.transmission RPCPort 9091
# Only allow local IP adres to connect
defaults write org.m0k.transmission RPCUseWhitelist -bool true
defaults write org.m0k.transmission RPCWhitelist '("127.0.0.1",)'

# Hide the donate message
defaults write org.m0k.transmission WarningDonate -bool false
# Hide the legal disclaimer
defaults write org.m0k.transmission WarningLegal -bool false

###############################################################################
# AppCleaner.app                                                              #
###############################################################################

# Show protected apps
defaults write net.freemacsoft.AppCleaner ShowProtectedApps -bool true

# Protect default OS X apps
defaults write net.freemacsoft.AppCleaner ProtectDefaultApps -bool true

# Protect running apps
defaults write net.freemacsoft.AppCleaner ProtectOpenedApps -bool true

# Check updates automatically
defaults write net.freemacsoft.AppCleaner SUEnableAutomaticChecks 1

# TODO
# SmartDelete option

###############################################################################
# Monolingual.app                                                             #
###############################################################################

# Directories
defaults write com.github.IngmarStein.Monolingual Roots '({Architectures=1;Languages=1;Path=/Applications;},{Architectures=1;Languages=1;Path=/Library;},)'

# Move language files to the trash
defaults write com.github.IngmarStein.Monolingual Trash -bool false

# Automatically check for updates
defaults write com.github.IngmarStein.Monolingual SUEnableAutomaticChecks -bool true

# Strip debug info when removing architectures
defaults write com.github.IngmarStein.Monolingual Strip -bool true
